<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>HUSHÃ…LLSAPPEN</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet" />
    <style>
      html,
      body {
        height: 100%;
        margin: 0;
      }
      
      body {
        display: flex;
        flex-direction: column;
      }
      
      main {
        flex-grow: 1;
      }
      
      @media (max-width: 767.98px) {
        main {
          padding-bottom: 4.5rem; /* make room for bottom navbar */
        }
      }
    </style>
  </head>
  <body>
    <div class="d-flex">
      <!-- Desktop Sidebar -->
      <div class="d-none d-md-flex flex-column flex-shrink-0 p-3 text-white min-vh-100" style="width: 200px; background-color: #272b3e;">
        <ul class="nav nav-pills flex-column mb-auto">
          <li>
            <a href="#" class="nav-link text-white">
              <i class="bi bi-speedometer2 me-2"></i>
              Dashboard
            </a>
          </li>
          <li>
            <a href="{% url 'upkeep-list' %}" class="nav-link text-white">
              <i class="bi bi-ui-checks me-2"></i>
              Upkeep
            </a>
          </li>
        </ul>
      </div>

      <!-- Page Content Wrapper -->
      <div class="d-flex flex-column flex-grow-1 min-vh-100">
        <!-- Top Bar (desktop only) -->
        <nav class="navbar px-3 d-none d-md-flex" style="background-color: #f5f8fa;">
          <div class="navbar-brand mb-0 h1">{{ title }}</div>
          <div class="ms-auto dropdown">
            <a href="#" class="d-flex align-items-center text-dark text-decoration-none dropdown-toggle" id="dropdownUserTop" data-bs-toggle="dropdown" aria-expanded="false">
              <i class="bi bi-person-circle me-2 px-2" style="font-size: 1.3rem;"></i>
              <strong>{{ user.username }}</strong>
            </a>
            <ul class="dropdown-menu dropdown-menu-end text-small shadow" aria-labelledby="dropdownUserTop">
              <li>
                <a class="dropdown-item" href="#">Settings</a>
              </li>
              <li>
                <a class="dropdown-item" href="#">Profile</a>
              </li>
              <li>
                <hr class="dropdown-divider" />
              </li>
              <li>
                <a class="dropdown-item" href="#">Sign out</a>
              </li>
            </ul>
          </div>
        </nav>

        <!-- Breadcrumb (desktop only) -->
        <nav class="d-none d-md-block px-4 py-2" style="background-color: #f5f8fa;" aria-label="breadcrumb">
          <div class="breadcrumb mb-0 d-flex align-items-center">
            <a href="/" class="text-decoration-none text-l fs-6"><i class="bi bi-house-fill"></i></a>
            <span class="mx-2">&raquo;</span>
            {% block breadcrumb %}

            {% endblock %}
          </div>
        </nav>

        <!-- Main content area -->
        <main class="flex-grow-1 p-3 pb-5" style="background-color: #f5f8fa;">
          {% block content %}
            <!-- Page-specific content goes here -->
          {% endblock %}
        </main>
      </div>
    </div>

    <!-- Bottom Navbar for Mobile & Tablet -->
    <nav class="d-md-none bg-white border-top fixed-bottom">
      <div class="d-flex justify-content-around py-2">
        <a href="/" class="text-dark text-center"><i class="bi bi-house-gear" style="font-size: 1.4rem;"></i></a>
        <a href="#" class="text-dark text-center"><i class="bi bi-speedometer2" style="font-size: 1.4rem;"></i></a>
        <a href="{% url 'upkeep-list' %}" class="text-dark text-center"><i class="bi bi-ui-checks" style="font-size: 1.4rem;"></i></a>
        <a href="#" class="text-dark text-center dropdown-toggle" data-bs-toggle="dropdown"><i class="bi bi-person-circle" style="font-size: 1.4rem;"></i></a>
        <ul class="dropdown-menu dropdown-menu-end text-small shadow">
          <li>
            <a class="dropdown-item" href="#">Settings</a>
          </li>
          <li>
            <a class="dropdown-item" href="#">Profile</a>
          </li>
          <li>
            <hr class="dropdown-divider" />
          </li>
          <li>
            <a class="dropdown-item" href="#">Sign out</a>
          </li>
        </ul>
      </div>
    </nav>

    <!-- Bootstrap Bundle JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
