<!-- partials/item_detail_modal.html -->
<div class="modal fade" id="itemDetailModal{{ item.id }}" tabindex="-1" aria-labelledby="itemDetailModalLabel{{ item.id }}" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-bottom">
        <h5 class="modal-title" id="itemDetailModalLabel{{ item.id }}">{{ item.name }}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body">
        <div class="container-fluid">
          {% comment %}Info Grid{% endcomment %}
          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Name</div>
            <div class="col-sm-8">{{ item.name }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Location</div>
            <div class="col-sm-8">{{ item.location.name|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Status</div>
            <div class="col-sm-8">{{ item.get_status_display|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Quantity</div>
            <div class="col-sm-8">{{ item.quantity }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Area</div>
            <div class="col-sm-8">{{ item.area|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Brand</div>
            <div class="col-sm-8">{{ item.brand|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Model Number</div>
            <div class="col-sm-8">{{ item.model_number|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Serial Number</div>
            <div class="col-sm-8">{{ item.serial_number|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Purchase Value</div>
            <div class="col-sm-8">{{ item.purchase_value|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Purchase Place</div>
            <div class="col-sm-8">{{ item.purchase_place|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Purchase Year</div>
            <div class="col-sm-8">{{ item.purchase_year|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Warranty Expiration</div>
            <div class="col-sm-8">{{ item.warranty_expiration|date:'F j, Y'|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Receipt File</div>
            <div class="col-sm-8">
              {% if item.receipt_file %}
                <a href="{{ item.receipt_file.url }}" target="_blank">Download</a>
              {% else %}
                —
              {% endif %}
            </div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Notes</div>
            <div class="col-sm-8">{{ item.notes|default:'—' }}</div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">Manufacturer Manual URL</div>
            <div class="col-sm-8">
              {% if item.manufacturer_manual_url %}
                <a href="{{ item.manufacturer_manual_url }}" target="_blank" class="text-truncate d-inline-block" style="max-width: 100%;" title="{{ item.manufacturer_manual_url }}">{{ item.manufacturer_manual_url|truncatechars:50 }}</a>
              {% else %}
                —
              {% endif %}
            </div>
          </div>

          <div class="row mb-2 border-bottom py-2">
            <div class="col-sm-4 fw-semibold">End of Service Date</div>
            <div class="col-sm-8">{{ item.end_of_service_date|date:'F j, Y'|default:'—' }}</div>
          </div>
        </div>
      </div>

      <div class="modal-footer border-top">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
